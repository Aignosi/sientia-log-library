<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>Regression Tracker - SIENTIA™ Log Libraryies</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Regression Tracker";
        var mkdocs_page_input_path = "regression.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="." class="icon icon-home"> SIENTIA™ Log Libraryies
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Home</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Modules</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="basic.html">Basic Tracker</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="simple.html">Simple Tracker</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Regression Tracker</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#key-features">Key Features</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#usage-examples">Usage Examples</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Quick Start</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="simple_tracker.html">Simple Tracker Notebook</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="regression_tracker.html">Regression Tracker Notebook</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">SIENTIA™ Log Libraryies</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Modules</li>
      <li class="breadcrumb-item active">Regression Tracker</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="regression">Regression</h2>
<h3 id="overview">Overview</h3>
<p>The <code>RegressionTracker</code> class, which extends the <code>BaseTracker</code>, is specifically designed to help users track regression models with ease. It simplifies the process of managing regression workflows by allowing users to log key components such as variable names, model hyperparameters, train/test split configurations, and the regression model itself.</p>
<p>This tracker is ideal for users who want a structured and intuitive way to monitor and log their regression experiments on the <strong>SIENTIA edge AIOps platform</strong>.</p>
<h3 id="key-features">Key Features</h3>
<ul>
<li><strong>Regression-Specific Logging</strong>: Tailored for tracking regression models and their performance metrics</li>
<li><strong>Comprehensive Metadata</strong>: Captures dataset details, feature information, and model configuration</li>
<li><strong>Performance Tracking</strong>: Built-in support for logging R² scores and other regression metrics</li>
<li><strong>Flexible Configuration</strong>: Supports various training configurations like train/test split and data shuffling</li>
</ul>
<h3 id="usage-examples">Usage Examples</h3>
<pre><code class="language-python"># Initialize the regression tracker
tracker = RegressionTracker(&quot;http://sientia-platform.com&quot;, username=&quot;user&quot;, password=&quot;pass&quot;)

# Set up a project
tracker.set_project(&quot;sales_forecasting&quot;)

# Start an experiment with a regression model and related parameters
tracker.save_experiment(
    model=linear_model,
    model_name=&quot;linear_regression&quot;,
    dataset_name=&quot;sales_data&quot;,
    inputs=[&quot;season&quot;, &quot;promotion&quot;, &quot;price&quot;],
    target=&quot;sales&quot;,
    date_column=&quot;transaction_date&quot;,
    r2=0.85,
    train_size=0.75,
    shuffle=True
)

# Log additional metrics if needed
tracker.log_metrics({&quot;mean_absolute_error&quot;: 0.15, &quot;mean_squared_error&quot;: 0.05})
</code></pre>


<div class="doc doc-object doc-module">



<a id="sientia_tracker.regression"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="sientia_tracker.regression.RegressionTracker" class="doc doc-heading">
            <code>RegressionTracker</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="BaseTracker (sientia_tracker.basic.BaseTracker)" href="basic.html#sientia_tracker.basic.BaseTracker">BaseTracker</a></code></p>


        <p>A specialized tracker for regression models, designed to log experiments, models, and metrics
to the SIENTIA edge AIOps platform. This tracker simplifies the process of managing regression
workflows for users, including citizen data scientists.</p>







              <details class="quote">
                <summary>Source code in <code>sientia_tracker/regression.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RegressionTracker</span><span class="p">(</span><span class="n">BaseTracker</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A specialized tracker for regression models, designed to log experiments, models, and metrics</span>
<span class="sd">    to the SIENTIA edge AIOps platform. This tracker simplifies the process of managing regression</span>
<span class="sd">    workflows for users, including citizen data scientists.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tracking_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the RegressionTracker and connect to the SIENTIA platform.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            tracking_uri (str): The URI of the SIENTIA platform (powered by MLflow API).</span>
<span class="sd">            username (str, optional): The username for accessing the SIENTIA platform (if required).</span>
<span class="sd">            password (str, optional): The password for accessing the SIENTIA platform (if required).</span>

<span class="sd">        Example:</span>
<span class="sd">            tracker = RegressionTracker(&quot;http://sientia-platform.com&quot;, username=&quot;user&quot;, password=&quot;pass&quot;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">tracking_uri</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">save_experiment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                        <span class="n">model</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
                        <span class="n">model_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;regr_model&quot;</span><span class="p">,</span>
                        <span class="n">dataset_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;data&quot;</span><span class="p">,</span>
                        <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="s2">&quot;inputs&quot;</span><span class="p">,</span>
                        <span class="n">target</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;target&quot;</span><span class="p">,</span>
                        <span class="n">date_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span>
                        <span class="n">r2</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
                        <span class="n">train_size</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">,</span>
                        <span class="n">shuffle</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">ActiveRun</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Start a new experiment run on the SIENTIA platform for a regression model.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            model (Any): The regression model (e.g., Scikit-Learn model) to log.</span>
<span class="sd">            model_name (str, optional): The name of the model. Default is &quot;regr_model&quot;.</span>
<span class="sd">            dataset_name (str, optional): The name of the dataset used for training. Default is &quot;data&quot;.</span>
<span class="sd">            inputs (Union[str, List[str]], optional): The input feature(s) used for training. Default is &quot;inputs&quot;.</span>
<span class="sd">            target (str, optional): The target variable for the regression task. Default is &quot;target&quot;.</span>
<span class="sd">            date_column (str, optional): The name of the date column in the dataset. Default is &quot;date&quot;.</span>
<span class="sd">            r2 (float, optional): The R² score of the model. Default is 1.0.</span>
<span class="sd">            train_size (float, optional): The proportion of the dataset used for training. Default is 0.8.</span>
<span class="sd">            shuffle (bool, optional): Whether the training data was shuffled. Default is True.</span>

<span class="sd">        Returns:</span>
<span class="sd">            mlflow.ActiveRun: The active run object for the experiment.</span>

<span class="sd">        Example:</span>
<span class="sd">            tracker.save_experiment(</span>
<span class="sd">                model=linear_model,</span>
<span class="sd">                model_name=&quot;linear_regression&quot;,</span>
<span class="sd">                dataset_name=&quot;sales_data&quot;,</span>
<span class="sd">                inputs=[&quot;feature1&quot;, &quot;feature2&quot;],</span>
<span class="sd">                target=&quot;sales&quot;,</span>
<span class="sd">                date_column=&quot;date&quot;,</span>
<span class="sd">                r2=0.85,</span>
<span class="sd">                train_size=0.75,</span>
<span class="sd">                shuffle=True</span>
<span class="sd">            )</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># End any existing run</span>
        <span class="n">mlflow</span><span class="o">.</span><span class="n">end_run</span><span class="p">()</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Saving experiment &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">project_name</span><span class="si">}</span><span class="s2">&#39; on the SIENTIA platform...&quot;</span><span class="p">)</span>
        <span class="c1"># Retrieve existing runs and determine the next run number</span>
        <span class="n">runs</span> <span class="o">=</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">search_runs</span><span class="p">(</span><span class="n">experiment_names</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">project_name</span><span class="p">],</span> <span class="n">order_by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;start_time desc&quot;</span><span class="p">])</span>
        <span class="n">next_run_number</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">runs</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="c1"># Start a new run</span>
        <span class="n">active_run</span> <span class="o">=</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">start_run</span><span class="p">(</span><span class="n">run_name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">project_name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">next_run_number</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Log parameters</span>
        <span class="n">mlflow</span><span class="o">.</span><span class="n">log_params</span><span class="p">({</span>
            <span class="s2">&quot;Model Name&quot;</span><span class="p">:</span> <span class="n">model_name</span><span class="p">,</span>
            <span class="s2">&quot;Dataset Name&quot;</span><span class="p">:</span> <span class="n">dataset_name</span><span class="p">,</span>
            <span class="s2">&quot;Inputs&quot;</span><span class="p">:</span> <span class="n">inputs</span><span class="p">,</span>
            <span class="s2">&quot;Target&quot;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span>
            <span class="s2">&quot;Date Column&quot;</span><span class="p">:</span> <span class="n">date_column</span><span class="p">,</span>
            <span class="s2">&quot;Train Size&quot;</span><span class="p">:</span> <span class="n">train_size</span><span class="p">,</span>
            <span class="s2">&quot;Shuffle&quot;</span><span class="p">:</span> <span class="n">shuffle</span><span class="p">,</span>
        <span class="p">})</span>

        <span class="c1"># Log the regression model</span>
        <span class="n">mlflow</span><span class="o">.</span><span class="n">sklearn</span><span class="o">.</span><span class="n">log_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model_name</span><span class="p">)</span>

        <span class="c1"># Log metrics</span>
        <span class="n">mlflow</span><span class="o">.</span><span class="n">log_metrics</span><span class="p">({</span><span class="s2">&quot;R² Score&quot;</span><span class="p">:</span> <span class="n">r2</span><span class="p">})</span>

        <span class="k">return</span> <span class="n">active_run</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="sientia_tracker.regression.RegressionTracker.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">tracking_uri</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialize the RegressionTracker and connect to the SIENTIA platform.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>tracking_uri</code></b>
                  (<code><span title="str">str</span></code>)
              –
              <div class="doc-md-description">
                <p>The URI of the SIENTIA platform (powered by MLflow API).</p>
              </div>
            </li>
            <li>
              <b><code>username</code></b>
                  (<code><span title="str">str</span></code>, default:
                      <code>None</code>
)
              –
              <div class="doc-md-description">
                <p>The username for accessing the SIENTIA platform (if required).</p>
              </div>
            </li>
            <li>
              <b><code>password</code></b>
                  (<code><span title="str">str</span></code>, default:
                      <code>None</code>
)
              –
              <div class="doc-md-description">
                <p>The password for accessing the SIENTIA platform (if required).</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<details class="example" open>
  <summary>Example</summary>
  <p>tracker = RegressionTracker("http://sientia-platform.com", username="user", password="pass")</p>
</details>

            <details class="quote">
              <summary>Source code in <code>sientia_tracker/regression.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tracking_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the RegressionTracker and connect to the SIENTIA platform.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        tracking_uri (str): The URI of the SIENTIA platform (powered by MLflow API).</span>
<span class="sd">        username (str, optional): The username for accessing the SIENTIA platform (if required).</span>
<span class="sd">        password (str, optional): The password for accessing the SIENTIA platform (if required).</span>

<span class="sd">    Example:</span>
<span class="sd">        tracker = RegressionTracker(&quot;http://sientia-platform.com&quot;, username=&quot;user&quot;, password=&quot;pass&quot;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">tracking_uri</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="sientia_tracker.regression.RegressionTracker.save_experiment" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">save_experiment</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;regr_model&#39;</span><span class="p">,</span> <span class="n">dataset_name</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="s1">&#39;inputs&#39;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s1">&#39;target&#39;</span><span class="p">,</span> <span class="n">date_column</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">r2</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">train_size</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Start a new experiment run on the SIENTIA platform for a regression model.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>model</code></b>
                  (<code><span title="typing.Any">Any</span></code>)
              –
              <div class="doc-md-description">
                <p>The regression model (e.g., Scikit-Learn model) to log.</p>
              </div>
            </li>
            <li>
              <b><code>model_name</code></b>
                  (<code><span title="str">str</span></code>, default:
                      <code>&#39;regr_model&#39;</code>
)
              –
              <div class="doc-md-description">
                <p>The name of the model. Default is "regr_model".</p>
              </div>
            </li>
            <li>
              <b><code>dataset_name</code></b>
                  (<code><span title="str">str</span></code>, default:
                      <code>&#39;data&#39;</code>
)
              –
              <div class="doc-md-description">
                <p>The name of the dataset used for training. Default is "data".</p>
              </div>
            </li>
            <li>
              <b><code>inputs</code></b>
                  (<code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.List">List</span>[<span title="str">str</span>]]</code>, default:
                      <code>&#39;inputs&#39;</code>
)
              –
              <div class="doc-md-description">
                <p>The input feature(s) used for training. Default is "inputs".</p>
              </div>
            </li>
            <li>
              <b><code>target</code></b>
                  (<code><span title="str">str</span></code>, default:
                      <code>&#39;target&#39;</code>
)
              –
              <div class="doc-md-description">
                <p>The target variable for the regression task. Default is "target".</p>
              </div>
            </li>
            <li>
              <b><code>date_column</code></b>
                  (<code><span title="str">str</span></code>, default:
                      <code>&#39;date&#39;</code>
)
              –
              <div class="doc-md-description">
                <p>The name of the date column in the dataset. Default is "date".</p>
              </div>
            </li>
            <li>
              <b><code>r2</code></b>
                  (<code><span title="float">float</span></code>, default:
                      <code>1.0</code>
)
              –
              <div class="doc-md-description">
                <p>The R² score of the model. Default is 1.0.</p>
              </div>
            </li>
            <li>
              <b><code>train_size</code></b>
                  (<code><span title="float">float</span></code>, default:
                      <code>0.8</code>
)
              –
              <div class="doc-md-description">
                <p>The proportion of the dataset used for training. Default is 0.8.</p>
              </div>
            </li>
            <li>
              <b><code>shuffle</code></b>
                  (<code><span title="bool">bool</span></code>, default:
                      <code>True</code>
)
              –
              <div class="doc-md-description">
                <p>Whether the training data was shuffled. Default is True.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code><span title="mlflow.ActiveRun">ActiveRun</span></code>
              –
              <div class="doc-md-description">
                <p>mlflow.ActiveRun: The active run object for the experiment.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<details class="example" open>
  <summary>Example</summary>
  <p>tracker.save_experiment(
    model=linear_model,
    model_name="linear_regression",
    dataset_name="sales_data",
    inputs=["feature1", "feature2"],
    target="sales",
    date_column="date",
    r2=0.85,
    train_size=0.75,
    shuffle=True
)</p>
</details>

            <details class="quote">
              <summary>Source code in <code>sientia_tracker/regression.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">save_experiment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">model</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
                    <span class="n">model_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;regr_model&quot;</span><span class="p">,</span>
                    <span class="n">dataset_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;data&quot;</span><span class="p">,</span>
                    <span class="n">inputs</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="s2">&quot;inputs&quot;</span><span class="p">,</span>
                    <span class="n">target</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;target&quot;</span><span class="p">,</span>
                    <span class="n">date_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span>
                    <span class="n">r2</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
                    <span class="n">train_size</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">,</span>
                    <span class="n">shuffle</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">ActiveRun</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Start a new experiment run on the SIENTIA platform for a regression model.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        model (Any): The regression model (e.g., Scikit-Learn model) to log.</span>
<span class="sd">        model_name (str, optional): The name of the model. Default is &quot;regr_model&quot;.</span>
<span class="sd">        dataset_name (str, optional): The name of the dataset used for training. Default is &quot;data&quot;.</span>
<span class="sd">        inputs (Union[str, List[str]], optional): The input feature(s) used for training. Default is &quot;inputs&quot;.</span>
<span class="sd">        target (str, optional): The target variable for the regression task. Default is &quot;target&quot;.</span>
<span class="sd">        date_column (str, optional): The name of the date column in the dataset. Default is &quot;date&quot;.</span>
<span class="sd">        r2 (float, optional): The R² score of the model. Default is 1.0.</span>
<span class="sd">        train_size (float, optional): The proportion of the dataset used for training. Default is 0.8.</span>
<span class="sd">        shuffle (bool, optional): Whether the training data was shuffled. Default is True.</span>

<span class="sd">    Returns:</span>
<span class="sd">        mlflow.ActiveRun: The active run object for the experiment.</span>

<span class="sd">    Example:</span>
<span class="sd">        tracker.save_experiment(</span>
<span class="sd">            model=linear_model,</span>
<span class="sd">            model_name=&quot;linear_regression&quot;,</span>
<span class="sd">            dataset_name=&quot;sales_data&quot;,</span>
<span class="sd">            inputs=[&quot;feature1&quot;, &quot;feature2&quot;],</span>
<span class="sd">            target=&quot;sales&quot;,</span>
<span class="sd">            date_column=&quot;date&quot;,</span>
<span class="sd">            r2=0.85,</span>
<span class="sd">            train_size=0.75,</span>
<span class="sd">            shuffle=True</span>
<span class="sd">        )</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># End any existing run</span>
    <span class="n">mlflow</span><span class="o">.</span><span class="n">end_run</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Saving experiment &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">project_name</span><span class="si">}</span><span class="s2">&#39; on the SIENTIA platform...&quot;</span><span class="p">)</span>
    <span class="c1"># Retrieve existing runs and determine the next run number</span>
    <span class="n">runs</span> <span class="o">=</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">search_runs</span><span class="p">(</span><span class="n">experiment_names</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">project_name</span><span class="p">],</span> <span class="n">order_by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;start_time desc&quot;</span><span class="p">])</span>
    <span class="n">next_run_number</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">runs</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="c1"># Start a new run</span>
    <span class="n">active_run</span> <span class="o">=</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">start_run</span><span class="p">(</span><span class="n">run_name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">project_name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">next_run_number</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Log parameters</span>
    <span class="n">mlflow</span><span class="o">.</span><span class="n">log_params</span><span class="p">({</span>
        <span class="s2">&quot;Model Name&quot;</span><span class="p">:</span> <span class="n">model_name</span><span class="p">,</span>
        <span class="s2">&quot;Dataset Name&quot;</span><span class="p">:</span> <span class="n">dataset_name</span><span class="p">,</span>
        <span class="s2">&quot;Inputs&quot;</span><span class="p">:</span> <span class="n">inputs</span><span class="p">,</span>
        <span class="s2">&quot;Target&quot;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span>
        <span class="s2">&quot;Date Column&quot;</span><span class="p">:</span> <span class="n">date_column</span><span class="p">,</span>
        <span class="s2">&quot;Train Size&quot;</span><span class="p">:</span> <span class="n">train_size</span><span class="p">,</span>
        <span class="s2">&quot;Shuffle&quot;</span><span class="p">:</span> <span class="n">shuffle</span><span class="p">,</span>
    <span class="p">})</span>

    <span class="c1"># Log the regression model</span>
    <span class="n">mlflow</span><span class="o">.</span><span class="n">sklearn</span><span class="o">.</span><span class="n">log_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model_name</span><span class="p">)</span>

    <span class="c1"># Log metrics</span>
    <span class="n">mlflow</span><span class="o">.</span><span class="n">log_metrics</span><span class="p">({</span><span class="s2">&quot;R² Score&quot;</span><span class="p">:</span> <span class="n">r2</span><span class="p">})</span>

    <span class="k">return</span> <span class="n">active_run</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="simple.html" class="btn btn-neutral float-left" title="Simple Tracker"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="simple_tracker.html" class="btn btn-neutral float-right" title="Simple Tracker Notebook">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="simple.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="simple_tracker.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script>var base_url = ".";</script>
    <script src="js/theme_extra.js"></script>
    <script src="js/theme.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
